function hookDUOSHUO_tp(){var i=DUOSHUO.templates.post;DUOSHUO.templates.post=function(s,e){var o,a=i(s,e),r=s.post.agent;return o="undefined"!=typeof duoshuo_user_ID&&s.post.author.user_id&&s.post.author.user_id==duoshuo_user_ID?duoshuo_admin_nickname?'<span class="fa">'+duoshuo_admin_nickname+"</span>":'<span class="fa">博主</span>':"",r&&/^Mozilla/.test(r)&&(a=a.replace(/<\/div><p>/,o+showUa(r)+"</div><p>")),a}}function checkMobile(){var i=null!==navigator.userAgent.match(/iPad/i);if(i)return!1;var s=null!=navigator.userAgent.match(/iphone|android|phone|mobile|wap|netfront|x11|java|opera mobi|opera mini|ucweb|windows ce|symbian|symbianos|series|webos|sony|blackberry|dopod|nokia|samsung|palmsource|xda|pieplus|meizu|midp|cldc|motorola|foma|docomo|up.browser|up.link|blazer|helio|hosin|huawei|novarra|coolpad|webos|techfaith|palmsource|alcatel|amoi|ktouch|nexian|ericsson|philips|sagem|wellcom|bunjalloo|maui|smartphone|iemobile|spice|bird|zte-|longcos|pantech|gionee|portalmmm|jig browser|hiptop|benq|haier|^lct|320x320|240x320|176x220/i);return s?!0:!1}function showUa(i){$.ua.set(i);var s=$.ua,e="&nbsp;&nbsp;",o='<i class="fa fa-desktop"></i>&nbsp;',a='<i class="fa fa-globe"></i>&nbsp;',r=s.os.name,n=s.browser.name;return checkMobile()&&(e="<br><br>"),r.match(/Android/i)&&(o='<i class="fa fa-android"></i>&nbsp;'),r.match(/linux/i)&&(o='<i class="fa fa-linux"></i>&nbsp;'),r.match(/mac os|ios/i)&&(o='<i class="fa fa-apple"></i>&nbsp;'),"x86_64"==s.os.version&&(s.os.version="x64"),n.match(/chrome|chromium/i)&&(a='<i class="fa fa-chrome"></i>&nbsp;'),n.match(/firefox/i)&&(a='<i class="fa fa-firefox"></i>&nbsp;'),n.match(/opera/i)&&(a='<i class="fa fa-opera"></i>&nbsp;'),n.match(/safari/i)&&(a='<i class="fa fa-safari"></i>&nbsp;'),n.match(/ie/i)&&(a='<i class="fa fa-internet-explorer"></i>&nbsp;'),n.match(/WeChat/i)&&(a='<i class="fa fa-wechat"></i>&nbsp;'),n.match(/QQBrowser/i)&&(a='<i class="fa fa-qq"></i>&nbsp;'),e+'<span class="platform '+s.os.name+'">'+o+s.os.name+" "+s.os.version+"</span>"+e+'<span class="browser '+s.browser.name+'">'+a+s.browser.name+"|"+s.browser.version+"</span>"}!function(i,s){"use strict";var e="0.7.9",o="",a="?",r="function",n="undefined",t="object",l="string",w="major",p="model",d="name",c="type",u="vendor",m="version",f="architecture",b="console",h="mobile",g="tablet",v="smarttv",x="wearable",k="embedded",y={extend:function(i,s){for(var e in s)-1!=="browser cpu device engine os".indexOf(e)&&s[e].length%2===0&&(i[e]=s[e].concat(i[e]));return i},has:function(i,s){return"string"==typeof i?-1!==s.toLowerCase().indexOf(i.toLowerCase()):!1},lowerize:function(i){return i.toLowerCase()},major:function(i){return typeof i===l?i.split(".")[0]:s}},A={rgx:function(){for(var i,e,o,a,l,w,p,d=0,c=arguments;d<c.length&&!w;){var u=c[d],m=c[d+1];if(typeof i===n){i={};for(a in m)l=m[a],typeof l===t?i[l[0]]=s:i[l]=s}for(e=o=0;e<u.length&&!w;)if(w=u[e++].exec(this.getUA()))for(a=0;a<m.length;a++)p=w[++o],l=m[a],typeof l===t&&l.length>0?2==l.length?typeof l[1]==r?i[l[0]]=l[1].call(this,p):i[l[0]]=l[1]:3==l.length?typeof l[1]!==r||l[1].exec&&l[1].test?i[l[0]]=p?p.replace(l[1],l[2]):s:i[l[0]]=p?l[1].call(this,p,l[2]):s:4==l.length&&(i[l[0]]=p?l[3].call(this,p.replace(l[1],l[2])):s):i[l]=p?p:s;d+=2}return i},str:function(i,e){for(var o in e)if(typeof e[o]===t&&e[o].length>0){for(var r=0;r<e[o].length;r++)if(y.has(e[o][r],i))return o===a?s:o}else if(y.has(e[o],i))return o===a?s:o;return i}},S={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},O={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[d,m],[/\s(opr)\/([\w\.]+)/i],[[d,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],[d,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[d,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[d,m],[/(yabrowser)\/([\w\.]+)/i],[[d,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[d,m],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[d,"UCBrowser"],m],[/(dolfin)\/([\w\.]+)/i],[[d,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[d,"Chrome"],m],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[m,[d,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[m,[d,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[m,[d,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[d,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[d,[m,A.str,S.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[d,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[d,"Netscape"],m],[/fxios\/([\w\.-]+)/i],[m,[d,"Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[d,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[f,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[f,y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[p,u,[c,g]],[/applecoremedia\/[\w\.]+ \((ipad)/],[p,[u,"Apple"],[c,g]],[/(apple\s{0,1}tv)/i],[[p,"Apple TV"],[u,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,p,[c,g]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[p,[u,"Amazon"],[c,g]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[p,A.str,S.device.amazon.model],[u,"Amazon"],[c,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[p,u,[c,h]],[/\((ip[honed|\s\w*]+);/i],[p,[u,"Apple"],[c,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,p,[c,h]],[/\(bb10;\s(\w+)/i],[p,[u,"BlackBerry"],[c,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[p,[u,"Asus"],[c,g]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[p,"Xperia Tablet"],[c,g]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[u,"Sony"],[p,"Xperia Phone"],[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,p,[c,b]],[/android.+;\s(shield)\sbuild/i],[p,[u,"Nvidia"],[c,b]],[/(playstation\s[3portablevi]+)/i],[p,[u,"Sony"],[c,b]],[/(sprint\s(\w+))/i],[[u,A.str,S.device.sprint.vendor],[p,A.str,S.device.sprint.model],[c,h]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[u,p,[c,g]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[u,[p,/_/g," "],[c,h]],[/(nexus\s9)/i],[p,[u,"HTC"],[c,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[p,[u,"Microsoft"],[c,b]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[u,"Microsoft"],[c,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[p,[u,"Motorola"],[c,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[p,[u,"Motorola"],[c,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],p,[c,g]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[u,"Samsung"],p,[c,h]],[/(samsung);smarttv/i],[u,p,[c,v]],[/\(dtv[\);].+(aquos)/i],[p,[u,"Sharp"],[c,v]],[/sie-(\w+)*/i],[p,[u,"Siemens"],[c,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[u,"Nokia"],p,[c,h]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[p,[u,"Acer"],[c,g]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],p,[c,g]],[/(lg) netcast\.tv/i],[u,p,[c,v]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[p,[u,"LG"],[c,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[p,[u,"Lenovo"],[c,g]],[/linux;.+((jolla));/i],[u,p,[c,h]],[/((pebble))app\/[\d\.]+\s/i],[u,p,[c,x]],[/android.+;\s(glass)\s\d/i],[p,[u,"Google"],[c,x]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[p,/_/g," "],[u,"Xiaomi"],[c,h]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[c,y.lowerize],u,p]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[d,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[d,m],[/rv\:([\w\.]+).*(gecko)/i],[m,d]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[d,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[d,[m,A.str,S.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[d,"Windows"],[m,A.str,S.os.windows.version]],[/\((bb)(10);/i],[[d,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[d,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[d,"Symbian"],m],[/\((series40);/i],[d],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[d,"Firefox OS"],m],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[d,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[d,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[d,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[d,m],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[d,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[d,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[d,m]]},_=function(s,e){if(this instanceof _){var a=s||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:o),r=e?y.extend(O,e):O;return this.getBrowser=function(){var i=A.rgx.apply(this,r.browser);return i.major=y.major(i.version),i},this.getCPU=function(){return A.rgx.apply(this,r.cpu)},this.getDevice=function(){return A.rgx.apply(this,r.device)},this.getEngine=function(){return A.rgx.apply(this,r.engine)},this.getOS=function(){return A.rgx.apply(this,r.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(i){return a=i,this},this.setUA(a),this}return new _(s,e).getResult()};_.VERSION=e,_.BROWSER={NAME:d,MAJOR:w,VERSION:m},_.CPU={ARCHITECTURE:f},_.DEVICE={MODEL:p,VENDOR:u,TYPE:c,CONSOLE:b,MOBILE:h,SMARTTV:v,TABLET:g,WEARABLE:x,EMBEDDED:k},_.ENGINE={NAME:d,VERSION:m},_.OS={NAME:d,VERSION:m},typeof exports!==n?(typeof module!==n&&module.exports&&(exports=module.exports=_),exports.UAParser=_):typeof define===r&&define.amd?define(function(){return _}):i.UAParser=_;var E=i.jQuery||i.Zepto;if(typeof E!==n){var U=new _;E.ua=U.getResult(),E.ua.get=function(){return U.getUA()},E.ua.set=function(i){U.setUA(i);var s=U.getResult();for(var e in s)E.ua[e]=s[e]}}}("object"==typeof window?window:this),"undefined"!=typeof DUOSHUO?hookDUOSHUO_tp():$("#duoshuo-script")[0].onload=hookDUOSHUO_tp;